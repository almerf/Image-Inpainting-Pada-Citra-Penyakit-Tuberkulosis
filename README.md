
# Image Inpainting Pada Citra Penyakit Tuberkulosis

Pewarnaan preparat dahak tuberkulosis (TB) paru-paru dengan metode ZN (Ziehl-Nielsen) yang dilakukan oleh petugas medis dapat menyebabkan citra dahak memiliki kualitas yang beragam. Diagnosis TB dilakukan dengan cara mendeteksi dan menghitung jumlah bakteri mycobacterium tuberculosis (MTB) dalam pemeriksaan dahak yang dilakukan secara manual menggunakan mikroskop yang telah terintegrasi dengan kamera digital. Banyak penelitian telah mengembangkan algoritma untuk mendeteksi dan menghitung bakteri MTB yang bertujuan untuk membantu para tenaga medis. Namun, terdapat beberapa masalah pada kamera yang digunakan seperti timbulnya hot pixel atau kerusakan lainnya pada citra. Untuk membantu para peneliti dan tenaga medis, penelitian ini mengusulkan penggunaan algoritma Context-Encoder Generative Adversarial Network (GAN) untuk melakukan task image inpainting pada citra yang memiliki hot pixel atau kerusakan lainnya yang diharapkan dapat mereduksi kesalahan yang dilakukan pada task object detection. Dataset yang digunakan Ziehl-Neelsen Sputum Smear Microscopy Image Database (ZNSM-iDB) adalah berupa citra preparat dahak yang diambil dengan menggunakan kamera digital yang terintegrasi dengan lensa okuler yang hasilnya disimpan sebagai citra JPEG dengan skema warna RGB 24 bit. Total perbesaran mikroskop yang digunakan adalah 1000 kali dalam imersi minyak dengan ukuran citra sebesar 800x600 piksel. Dari hasil uji yang dilakukan, sistem menunjukkan bahwa model yang diajukan dapat melakukan task image painting dengan baik pada citra.

# Metode

Context-Encoder GAN adalah algoritma image inpainting berbasis Generative Adversarial Networks (GANs) pertama. Alasan pemilihan metode ini karena network yang dihasilkan dapat menghasilkan prediksi yang lebih realistis dengan memilih pattern tertentu dari distribusi yang ada. Metode tersebut terkait dengan beberapa konsep dasar yang berguna untuk task image inpainting. Istilah "Context" berhubungan dengan pemahaman tentang keseluruhan citra itu sendiri dan ide inti dari Context-Encoder adalah Channel-wise Fully Connected Layer (lapisan tengah pada jaringan seperti yang ditunjukkan pada Gambar 5). Mirip dengan Fully Connected Layer, poin utamanya adalah bahwa semua lokasi fitur pada layer sebelumnya akan berkontribusi pada setiap lokasi fitur pada layer saat ini. Dengan demikian, network dapat mempelajari hubungan antara semua lokasi fitur dan pemahaman semantik yang lebih dalam dari keseluruhan citra dapat diperoleh.

Auto-encoder mengambil input dari citra dengan bagian yang dihilangkan sebagai masukan. Informasi konteks ini kemudian diencode melalui urutan dari fully concolutional layer untuk menghasilkan representasi fitur laten dari citra asli. Bagian decoder kemudian menggunakan representasi laten ini untuk merekonstruksi patch pada bagian pusat. Bagian encoder dari arsitektur terdiri dari 6 lapisan convolutional dengan ukuran kernel 4, stride 2 dan padding 1, yang menghasilkan ukuran gambar menjadi setengahnya setiap dilakukannya konvolusi. Setiap lapisan convolutional diikuti oleh normalisasi batch dan aktivasi Leaky-ReLU. 

Masukan encoder adalah citra skala abu-abu berukuran 128×128×1, dimana sebelumnya bagian tengah berukuran 64×64 telah dihapus. Setelah konvolusi pertama, yang menghasilkan kedalaman dari 1 hingga 128 channel, kedalamannya berubah menjadi dua kali lipat dan ukuran citra berubah menjadi setengah kali lipat pada setiap layer. Output yang dihasilkan berbentuk 1×1×4000. Vektor ini adalah representasi fitur laten dari konteks. Arsitektur dari jaringan decoder hampir simetris dengan jaringan encoder. Jaringan decoder tersebut memiliki 5 deconvolutional layer yang mengambil vektor fitur sebagai input dan menghasilkan path dalam grayscale sebesar 64×64×1. Dekonvolusi memiliki ukuran kernel, stride, dan padding yang sama dengan konvolusi dalam encoder, dan setiap layer diikuti oleh normalisasi batch dan aktivasi ReLU. Sedangkan Layer terakhir menggunakan non-linier tangen hiperbolik daripada menggunakan ReLU
